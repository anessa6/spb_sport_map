<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üèÉ‚Äç‚ôÇÔ∏è –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="node_modules/ol/ol.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="map" class="map"></div>
    
    <div class="top-panel">
      <div class="search-panel">
        <div class="search-input-wrapper">
          <i class="fas fa-search search-icon"></i>
          <input type="text" class="search-input" id="search-input" placeholder="–ü–æ–∏—Å–∫ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤..." autocomplete="off">
          <button class="search-btn" id="search-btn">
            <i class="fas fa-search"></i>
          </button>
        </div>
        <div class="search-suggestions" id="search-suggestions"></div>
      </div>
      
      <div class="title-panel">
        <h1><i class="fas fa-running"></i> –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –°–ü–±</h1>
      </div>

      <button class="info-btn" id="data-source-btn" title="–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö">
        <i class="fas fa-info-circle"></i>
      </button>
    </div>

    <div class="left-panel">
      <div class="panel-section">
        <div class="panel-header">
          <i class="fas fa-filter"></i>
          <span>–§–∏–ª—å—Ç—Ä—ã</span>
          <button class="panel-toggle" data-target="filters">
            <i class="fas fa-chevron-down"></i>
          </button>
        </div>
        <div class="panel-content" id="filters">
          <div class="filter-group">
            <label>–†–∞–π–æ–Ω</label>
            <select class="form-select" id="district-filter">
              <option value="">–í—Å–µ —Ä–∞–π–æ–Ω—ã</option>
            </select>
          </div>
          <div class="filter-group">
            <label>–í–∏–¥ —Å–ø–æ—Ä—Ç–∞</label>
            <select class="form-select" id="sport-filter">
              <option value="">–í—Å–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞</option>
            </select>
          </div>
          <button class="reset-btn" id="reset-btn">
            <i class="fas fa-undo"></i> –°–±—Ä–æ—Å–∏—Ç—å
          </button>
        </div>
      </div>

      <div class="panel-section">
        <div class="panel-header">
          <i class="fas fa-layer-group"></i>
          <span>–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è</span>
          <button class="panel-toggle" data-target="clustering">
            <i class="fas fa-chevron-down"></i>
          </button>
        </div>
        <div class="panel-content" id="clustering">
          <div class="slider-group">
            <label>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: <span id="distance-value">50</span>px</label>
            <input type="range" class="slider" id="distance" min="20" max="100" value="50">
          </div>
          <div class="slider-group">
            <label>–ú–∏–Ω. —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: <span id="min-distance-value">20</span>px</label>
            <input type="range" class="slider" id="min-distance" min="0" max="50" value="20">
          </div>
        </div>
      </div>
    </div>  

    <div class="right-panel">
      <div class="stats-panel">
        <div class="stat-item">
          <div class="stat-number" id="total-count">-</div>
          <div class="stat-label">–í—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="visible-count">-</div>
          <div class="stat-label">–ù–∞ –∫–∞—Ä—Ç–µ</div>
        </div>
      </div>

      <div class="panel-section">
        <div class="panel-header">
          <i class="fas fa-chart-bar"></i>
          <span>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
          <button class="panel-toggle" data-target="statistics">
            <i class="fas fa-chevron-down"></i>
          </button>
        </div>
        <div class="panel-content" id="statistics">
          <canvas id="stats-chart" style="max-height: 200px;"></canvas>
        </div>
      </div>

      <div class="legend-panel">
        <div class="panel-header">
          <i class="fas fa-palette"></i>
          <span>–õ–µ–≥–µ–Ω–¥–∞</span>
          <button class="panel-toggle" data-target="legend">
            <i class="fas fa-chevron-down"></i>
          </button>
        </div>
        <div class="legend-content" id="legend">
          <div class="legend-item">
            <div class="legend-color" style="background-color: #3498db;"></div>
            <span>–ü–ª–æ—â–∞–¥–∫–∏</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #27ae60;"></div>
            <span>–ö–æ–º–ø–ª–µ–∫—Å—ã</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #f39c12;"></div>
            <span>–ö–∞—Ç–∫–∏</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #e74c3c;"></div>
            <span>–î—Ä—É–≥–∏–µ</span>
          </div>
        </div>
      </div>
    </div>

    <div class="mobile-controls">
      <button class="mobile-btn" id="mobile-filters">
        <i class="fas fa-filter"></i>
      </button>
      <button class="mobile-btn" id="mobile-search">
        <i class="fas fa-search"></i>
      </button>
      <button class="mobile-btn" id="mobile-info">
        <i class="fas fa-info"></i>
      </button>
    </div>

    <div class="modal" id="data-source-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö</h2>
          <button class="modal-close" id="modal-close">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <p>–î–∞–Ω–Ω—ã–µ –æ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ—Ä—Ç–∞–ª–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞:</p>
          
          <div class="source-list">
            <div class="source-item">
              <i class="fas fa-database"></i>
              <div>
                <strong>–ü–µ—Ä–µ—á–µ–Ω—å –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏–π —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã –∏ —Å–ø–æ—Ä—Ç–∞</strong>
                <a href="https://data.gov.spb.ru/irsi/7803050795-perechen-gosudarstvennyh-uchrezhdenij-fizicheskoj-kultury-i-sporta-v-Sankt-Peterburge/structure_version/425/" target="_blank" rel="noopener">
                  data.gov.spb.ru
                  <i class="fas fa-external-link-alt"></i>
                </a>
              </div>
            </div>

            <div class="source-item">
              <i class="fas fa-database"></i>
              <div>
                <strong>–ü–µ—Ä–µ—á–µ–Ω—å –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏–π —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã –∏ —Å–ø–æ—Ä—Ç–∞ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫)</strong>
                <a href="https://data.gov.spb.ru/irsi/7830002078-Perechen-gosudarstvennyh-uchrezhdenij-fizicheskoj-kultury-i-sporta-v-Sankt-Peterburge/structure_version/359/" target="_blank" rel="noopener">
                  data.gov.spb.ru
                  <i class="fas fa-external-link-alt"></i>
                </a>
              </div>
            </div>

            <div class="source-item">
              <i class="fas fa-database"></i>
              <div>
                <strong>–û–±—ä–µ–∫—Ç—ã —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã –∏ —Å–ø–æ—Ä—Ç–∞ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞</strong>
                <a href="https://data.gov.spb.ru/irsi/7803050795-Obuekty-fizicheskoj-kultury-i-sporta-Sankt-Petersburg/structure_version/703/" target="_blank" rel="noopener">
                  data.gov.spb.ru
                  <i class="fas fa-external-link-alt"></i>
                </a>
              </div>
            </div>
          </div>

          <div class="data-stats">
            <p><strong>–í—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –±–∞–∑–µ:</strong> 2663</p>
            <p><strong>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> 2025</p>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script type="module" src="main.js"></script>
  </body>
</html>